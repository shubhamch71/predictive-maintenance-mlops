# =============================================================================
# Production Dependencies for Predictive Maintenance MLOps Platform
# =============================================================================
# Versions are carefully selected to avoid dependency conflicts.
#
# Key compatibility notes:
# - evidently >=0.4.33 requires requests>=2.32.0 and pydantic>=2
# - tensorflow 2.15.x requires numpy<2.0
# - mlflow 2.9.x works with requests>=2.17.3,<3
#
# Install: pip install --no-cache-dir -r requirements.txt
# =============================================================================

# -----------------------------------------------------------------------------
# Core Data Science Libraries
# -----------------------------------------------------------------------------
pandas>=2.0.0,<3.0.0
numpy>=1.24.0,<2.0.0
scipy>=1.11.0,<2.0.0

# -----------------------------------------------------------------------------
# Machine Learning Frameworks
# -----------------------------------------------------------------------------
scikit-learn>=1.3.0,<2.0.0
xgboost>=2.0.0,<3.0.0
tensorflow>=2.15.0,<2.17.0

# -----------------------------------------------------------------------------
# MLOps Tools
# -----------------------------------------------------------------------------
mlflow>=2.9.0,<3.0.0
kfp>=2.4.0,<3.0.0

# -----------------------------------------------------------------------------
# API & Model Serving
# -----------------------------------------------------------------------------
fastapi>=0.109.0,<1.0.0
uvicorn[standard]>=0.27.0,<1.0.0
pydantic>=2.5.0,<3.0.0
python-multipart>=0.0.6,<1.0.0

# -----------------------------------------------------------------------------
# Monitoring & Observability
# -----------------------------------------------------------------------------
prometheus-client>=0.19.0,<1.0.0
evidently>=0.4.33,<0.5.0

# -----------------------------------------------------------------------------
# Model Explainability (shap requires numba/llvmlite - pinned for wheel availability)
# These exact versions have pre-built wheels for Python 3.11 on macOS
# -----------------------------------------------------------------------------
llvmlite==0.42.0
numba==0.59.1
shap>=0.44.0,<0.46.0

# -----------------------------------------------------------------------------
# Cloud & Infrastructure
# -----------------------------------------------------------------------------
boto3>=1.34.0,<2.0.0
opensearch-py>=2.4.0,<3.0.0

# -----------------------------------------------------------------------------
# Utilities (requests MUST be >=2.32.0 for evidently compatibility)
# -----------------------------------------------------------------------------
python-dotenv>=1.0.0,<2.0.0
pyyaml>=6.0.0,<7.0.0
requests>=2.32.0,<3.0.0
joblib>=1.3.0,<2.0.0
