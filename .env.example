# =============================================================================
# Environment Configuration for Predictive Maintenance MLOps Platform
# =============================================================================
# Copy this file to .env and customize for your environment.
#
# cp .env.example .env
#
# IMPORTANT: Never commit .env to version control!
# =============================================================================

# -----------------------------------------------------------------------------
# MLflow Configuration
# -----------------------------------------------------------------------------
# Tracking server URI for logging experiments and models
MLFLOW_TRACKING_URI=http://localhost:5000

# Backend store for MLflow metadata (use PostgreSQL in production)
MLFLOW_BACKEND_STORE_URI=postgresql://mlflow:mlflow@localhost:5432/mlflow

# Artifact storage location (local path, S3, GCS, Azure Blob)
MLFLOW_DEFAULT_ARTIFACT_ROOT=./mlflow-artifacts
# For S3: s3://your-bucket-name/mlflow-artifacts
# For GCS: gs://your-bucket-name/mlflow-artifacts

# Experiment name for organizing runs
MLFLOW_EXPERIMENT_NAME=predictive-maintenance

# -----------------------------------------------------------------------------
# AWS Configuration (Optional - for S3 artifact storage)
# -----------------------------------------------------------------------------
# AWS_ACCESS_KEY_ID=your-access-key-here
# AWS_SECRET_ACCESS_KEY=your-secret-key-here
# AWS_DEFAULT_REGION=us-east-1
# AWS_S3_BUCKET=predictive-maintenance-mlflow

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------
POSTGRES_USER=mlflow
POSTGRES_PASSWORD=mlflow
POSTGRES_DB=mlflow
POSTGRES_HOST=localhost
POSTGRES_PORT=5432

# -----------------------------------------------------------------------------
# Model Configuration
# -----------------------------------------------------------------------------
# Model name in MLflow registry
MODEL_NAME=predictive-maintenance

# Model version or stage to load
MODEL_VERSION=production
MODEL_STAGE=Production

# Available models: ensemble, xgboost, random_forest, lstm
DEFAULT_MODEL_TYPE=ensemble

# -----------------------------------------------------------------------------
# API Configuration
# -----------------------------------------------------------------------------
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4
API_RELOAD=false

# API authentication (optional)
# API_KEY=your-api-key-here
# API_SECRET=your-api-secret-here

# -----------------------------------------------------------------------------
# Monitoring Configuration
# -----------------------------------------------------------------------------
PROMETHEUS_URL=http://localhost:9090
GRAFANA_URL=http://localhost:3000
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin

# Metrics port for Prometheus scraping
METRICS_PORT=8001
ENABLE_METRICS=true

# -----------------------------------------------------------------------------
# Docker Registry Configuration
# -----------------------------------------------------------------------------
DOCKER_REGISTRY=docker.io
DOCKER_USERNAME=your-dockerhub-username
# IMPORTANT: Use access token, NOT password!
# Generate at: hub.docker.com/settings/security
DOCKER_PASSWORD=dckr_pat_USE_TOKEN_NOT_PASSWORD

# -----------------------------------------------------------------------------
# Kubernetes Configuration
# -----------------------------------------------------------------------------
KUBE_CONTEXT=docker-desktop
KUBE_NAMESPACE=mlops
KUBECONFIG=~/.kube/config

# -----------------------------------------------------------------------------
# Training Configuration
# -----------------------------------------------------------------------------
BATCH_SIZE=32
EPOCHS=100
LEARNING_RATE=0.001
EARLY_STOPPING_PATIENCE=10
RANDOM_STATE=42

# Data paths
DATA_DIR=./data
RAW_DATA_DIR=./data/raw
PROCESSED_DATA_DIR=./data/processed

# -----------------------------------------------------------------------------
# Drift Detection Configuration
# -----------------------------------------------------------------------------
ENABLE_DRIFT_DETECTION=true
DRIFT_THRESHOLD=0.05
DRIFT_CHECK_INTERVAL=300

# -----------------------------------------------------------------------------
# Auto-Retraining Configuration
# -----------------------------------------------------------------------------
ENABLE_AUTO_RETRAINING=true
RETRAINING_TRIGGER_PSI=0.25
RETRAINING_MIN_SAMPLES=1000

# -----------------------------------------------------------------------------
# Explainability Configuration
# -----------------------------------------------------------------------------
ENABLE_EXPLAINABILITY=true
SHAP_SAMPLE_SIZE=100

# -----------------------------------------------------------------------------
# Notification Configuration (Optional)
# -----------------------------------------------------------------------------
# Slack notifications
# SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL
# SLACK_CHANNEL=#mlops-alerts

# Email notifications
# EMAIL_RECIPIENTS=team@example.com
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASSWORD=your-app-password

# -----------------------------------------------------------------------------
# Logging Configuration
# -----------------------------------------------------------------------------
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE=./logs/app.log

# -----------------------------------------------------------------------------
# Feature Flags
# -----------------------------------------------------------------------------
FEATURE_NEW_ENSEMBLE=false
FEATURE_ADVANCED_DRIFT=false
